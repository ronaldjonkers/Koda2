# Koda2 Configuration
# Copy this file to .env and fill in your values

# ── General ──────────────────────────────────────────────────────────
KODA2_ENV=development
KODA2_LOG_LEVEL=INFO
KODA2_SECRET_KEY=change-me-to-a-random-secret-key
KODA2_ENCRYPTION_KEY=  # 32-byte base64-encoded AES-256 key

# ── Personalization ──────────────────────────────────────────────────
ASSISTANT_NAME=Koda2
USER_NAME=
KODA2_TIMEZONE=Europe/Amsterdam  # IANA timezone (used for calendar events, scheduling, etc.)

# ── API Server ───────────────────────────────────────────────────────
API_HOST=0.0.0.0
API_PORT=8000

# ── Database ─────────────────────────────────────────────────────────
DATABASE_URL=sqlite+aiosqlite:///data/koda2.db
CHROMA_PERSIST_DIR=data/chroma
REDIS_URL=redis://localhost:6379/0

# ── LLM Providers ───────────────────────────────────────────────────
# At least ONE provider key is required. Multiple can be set for fallback.
# Priority order: OpenRouter → Anthropic → Google Gemini → OpenAI
#
# Anthropic (Claude) — https://console.anthropic.com/settings/keys
# Models: claude-sonnet-4-20250514, claude-3-5-haiku-20241022
ANTHROPIC_API_KEY=
#
# OpenAI — https://platform.openai.com/api-keys
# Models: gpt-4o, gpt-4o-mini
OPENAI_API_KEY=
#
# Google Gemini — https://aistudio.google.com/apikey
# Models: gemini-2.0-flash, gemini-1.5-pro
GOOGLE_AI_API_KEY=
#
# OpenRouter (multi-model gateway) — https://openrouter.ai/keys
OPENROUTER_API_KEY=
OPENROUTER_MODEL=anthropic/claude-sonnet-4-20250514  # See https://openrouter.ai/models

# Default LLM provider for the main app: openai | anthropic | google | openrouter
LLM_DEFAULT_PROVIDER=anthropic
LLM_DEFAULT_MODEL=claude-sonnet-4-20250514

# ── Calendar Integrations ───────────────────────────────────────────
# Exchange (EWS)
EWS_SERVER=
EWS_USERNAME=
EWS_PASSWORD=
EWS_EMAIL=

# Google Workspace
GOOGLE_CREDENTIALS_FILE=config/google_credentials.json
GOOGLE_TOKEN_FILE=config/google_token.json

# Office 365 (Microsoft Graph)
MSGRAPH_CLIENT_ID=
MSGRAPH_CLIENT_SECRET=
MSGRAPH_TENANT_ID=

# CalDAV
CALDAV_URL=
CALDAV_USERNAME=
CALDAV_PASSWORD=

# ── Email ────────────────────────────────────────────────────────────
# IMAP
IMAP_SERVER=
IMAP_PORT=993
IMAP_USERNAME=
IMAP_PASSWORD=
IMAP_USE_SSL=true

# SMTP
SMTP_SERVER=
SMTP_PORT=587
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_USE_TLS=true

# ── Assistant Email (the AI's own full mailbox) ──────────
# Configure so the assistant can read AND send emails from its own address.
# Can also be configured via the web dashboard at runtime.
# Encryption options: ssl, starttls, none (port auto-selects if left at 0)
#
# IMAP (incoming)
ASSISTANT_IMAP_SERVER=
ASSISTANT_IMAP_PORT=993
ASSISTANT_IMAP_USERNAME=
ASSISTANT_IMAP_PASSWORD=
ASSISTANT_IMAP_USE_SSL=true
#
# SMTP (outgoing)
ASSISTANT_SMTP_SERVER=
ASSISTANT_SMTP_PORT=587
ASSISTANT_SMTP_USERNAME=
ASSISTANT_SMTP_PASSWORD=
ASSISTANT_SMTP_USE_TLS=true
#
ASSISTANT_EMAIL_ADDRESS=            # e.g. koda@yourdomain.com
ASSISTANT_EMAIL_DISPLAY_NAME=       # e.g. Koda2 Assistant (defaults to ASSISTANT_NAME)
ASSISTANT_EMAIL_CHECK_INTERVAL=10   # minutes between inbox checks (0 = disabled)

# ── Messaging ────────────────────────────────────────────────────────
TELEGRAM_BOT_TOKEN=
TELEGRAM_ALLOWED_USER_IDS=  # Comma-separated list

WHATSAPP_ENABLED=false
WHATSAPP_BRIDGE_PORT=3001

# ── Image Generation ────────────────────────────────────────────────
IMAGE_PROVIDER=gemini  # gemini | openai | stability (gemini uses GOOGLE_AI_API_KEY)
STABILITY_API_KEY=

# ── Video Generation ────────────────────────────────────────────────
VIDEO_PROVIDER=runway  # runway | pika | stable_video | heygen
RUNWAY_API_KEY=
PIKA_API_KEY=
HEYGEN_API_KEY=

# ── Travel APIs ──────────────────────────────────────────────────────
AMADEUS_API_KEY=
AMADEUS_API_SECRET=
AMADEUS_TEST_MODE=true
RAPIDAPI_KEY=
